const translations = {
    en: {
        // Recording Method
        recordingMethod: "Recording Method",
        recordAudio: "Record Audio",
        uploadAudio: "Upload Audio",
        textInput: "Text Input",
        
        // Recording Controls
        startRecording: "Start Recording",
        stopRecording: "Stop Recording",
        recordingDuration: "Recording duration",
        
        // Form Labels
        companyName: "Company Name",
        contactEmail: "Contact Email",
        contactPhone: "Contact Phone",
        notes: "Notes",
        severityLevel: "Severity Level",
        requiredFields: "Required fields",
        
        // Severity Levels
        normal: "Normal",
        high: "High",
        emergency: "Emergency",
        normalDescription: "Handle in a few business days",
        highDescription: "Must be done before tomorrow",
        emergencyDescription: "Must be done ASAP",
        
        // Form Placeholders
        companyNamePlaceholder: "Add your company name",
        emailPlaceholder: "Add your e-mail address",
        phonePlaceholder: "Add your phone number",
        notesPlaceholder: "Specify when the recording should be played (date and time) and any other relevant information. And if appllicable, add the external phone number for which the audio recording is e.g. +31 99 999 999.",
        
        // File Upload
        uploadAudioFile: "Upload Audio File",
        supportedFormats: "Supported formats: MP3, WAV, MP4, WebM, OGG, AAC, M4A",
        chooseFile: "Choose File",
        
        // Text Input
        enterText: "Enter Text",
        
        // Buttons
        submit: "Submit",
        delete: "Delete",
        deleteRecording: "Delete Recording",
        
        // Messages
        businessHoursNote: "Please note that these requests will only be handled between business hours.",
        forAssistanceContact: "For assistance, contact",
        dragDropHint: "üí° Tip: You can drag and drop audio files anywhere on this form",
        dropAudioFilesHere: "Drop audio files here",
        developedBy: "Developed by",
        
        // Notifications
        recordingNotSupported: "Your browser does not support audio recording. Please use a modern browser or try the upload option instead.",
        httpsRequired: "Audio recording requires a secure connection (HTTPS) or localhost.",
        allowMicrophone: "Please allow microphone access in your browser settings. Click the camera/microphone icon in the address bar to grant permission.",
        noMicrophone: "No microphone found. Please ensure your device has a microphone.",
        microphoneBusy: "Your microphone is busy or not working. Please try again or use the upload option.",
        recordingError: "Error processing the recording. Please try again.",
        microphoneError: "Error accessing microphone. Please try the upload option instead.",
        invalidEmail: "Please enter a valid email address.",
        invalidPhone: "Please enter a valid phone number (only numbers and + symbol allowed).",
        recordingRequired: "Please record a message before submitting.",
        fileRequired: "Please select an audio file to upload.",
        textRequired: "Please enter some text before submitting.",
        sending: "Sending...",
        errorSending: "An error occurred while sending your submission. Please try again.",
        submissionSuccess: "Your submission has been received successfully.",
        filesUploaded: "Files uploaded",
        dropAudioFilesOnly: "Please drop audio files only (MP3, WAV, MP4, WebM, OGG, AAC, M4A)",
        submissionSuccess: "Your submission has been received successfully.",
        preparingRecording: "Preparing to record... Please wait.",
        maxDurationWarning: "Maximum recording duration: {duration} seconds.",
        maxDurationReached: "Maximum recording time reached. Recording stopped."
    },
    nl: {
        // Recording Method
        recordingMethod: "Opnamemethode",
        recordAudio: "Audio Opnemen",
        uploadAudio: "Audio Uploaden",
        textInput: "Tekst Invoer",
        
        // Recording Controls
        startRecording: "Start Opname",
        stopRecording: "Stop Opname",
        recordingDuration: "Opnameduur",
        
        // Form Labels
        companyName: "Bedrijfsnaam",
        contactEmail: "Contact E-mail",
        contactPhone: "Contact Telefoon",
        notes: "Notities",
        severityLevel: "Prioriteitsniveau",
        requiredFields: "Vereiste velden",
        
        // Severity Levels
        normal: "Normaal",
        high: "Hoog",
        emergency: "Spoed",
        normalDescription: "Afhandeling binnen enkele werkdagen",
        highDescription: "Moet voor morgen afgehandeld worden",
        emergencyDescription: "Moet direct afgehandeld worden",
        
        // Form Placeholders
        companyNamePlaceholder: "Voer uw bedrijfsnaam in",
        emailPlaceholder: "Voer uw e-mailadres in",
        phonePlaceholder: "Voer uw telefoonnummer in",
        notesPlaceholder: "Geef aan wanneer de opname moet worden afgespeeld (datum en tijd) en eventuele andere relevante informatie. En indien van toepassing, voeg het externe telefoonnummer toe waarvoor de audio-opname is, bijv. +31 99 999 999.",
        
        // File Upload
        uploadAudioFile: "Audio Bestand Uploaden",
        supportedFormats: "Ondersteunde formaten: MP3, WAV, MP4, WebM, OGG, AAC, M4A",
        chooseFile: "Kies Bestand",
        
        // Text Input
        enterText: "Voer Tekst In",
        
        // Buttons
        submit: "Versturen",
        delete: "Verwijderen",
        deleteRecording: "Opname Verwijderen",
        
        // Messages
        businessHoursNote: "Let op: deze aanvragen worden alleen tijdens kantooruren behandeld.",
        forAssistanceContact: "Voor hulp, stuur een mail naar",
        dragDropHint: "üí° Tip: U kunt audiobestanden plaatsen op deze vorm",
        dropAudioFilesHere: "Plaats audiobestanden hier",
        developedBy: "Ontwikkeld door",
        
        // Notifications
        recordingNotSupported: "Uw browser ondersteunt geen audio-opname. Gebruik een moderne browser of probeer de upload-optie.",
        httpsRequired: "Audio-opname vereist een beveiligde verbinding (HTTPS) of localhost.",
        allowMicrophone: "Sta microfoon-toegang toe in uw browser-instellingen. Klik op het camera/microfoon-pictogram in de adresbalk om toestemming te verlenen.",
        noMicrophone: "Geen microfoon gevonden. Zorg ervoor dat uw apparaat een microfoon heeft.",
        microphoneBusy: "Uw microfoon is bezet of werkt niet. Probeer het opnieuw of gebruik de upload-optie.",
        recordingError: "Fout bij het verwerken van de opname. Probeer het opnieuw.",
        microphoneError: "Fout bij toegang tot microfoon. Probeer de upload-optie.",
        invalidEmail: "Voer een geldig e-mailadres in.",
        invalidPhone: "Voer een geldig telefoonnummer in (alleen cijfers en + symbool toegestaan).",
        recordingRequired: "Maak eerst een opname voordat u verstuurt.",
        fileRequired: "Selecteer eerst een audiobestand voordat u verstuurt.",
        textRequired: "Voer eerst tekst in voordat u verstuurt.",
        sending: "Versturen...",
        errorSending: "Er is een fout opgetreden bij het versturen van uw aanvraag. Probeer het opnieuw.",
        submissionSuccess: "Uw aanvraag is succesvol ontvangen.",
        filesUploaded: "Bestanden ge√ºpload",
        dropAudioFilesOnly: "Plaats alleen audiobestanden (MP3, WAV, MP4, WebM, OGG, AAC, M4A)",
        preparingRecording: "Opname wordt voorbereid... Even geduld aub.",
        maxDurationWarning: "Maximale opnameduur: {duration} seconden.",
        maxDurationReached: "Maximale opnameduur bereikt. Opname gestopt."
    },
    fr: {
        // Recording Method
        recordingMethod: "M√©thode d'enregistrement",
        recordAudio: "Enregistrer l'audio",
        uploadAudio: "T√©l√©charger l'audio",
        textInput: "Saisie de texte",
        
        // Recording Controls
        startRecording: "Commencer l'enregistrement",
        stopRecording: "Arr√™ter l'enregistrement",
        recordingDuration: "Dur√©e d'enregistrement",
        
        // Form Labels
        companyName: "Nom de l'entreprise",
        contactEmail: "Email de contact",
        contactPhone: "T√©l√©phone de contact",
        notes: "Notes",
        severityLevel: "Niveau de priorit√©",
        requiredFields: "Champs obligatoires",
        
        // Severity Levels
        normal: "Normal",
        high: "√âlev√©",
        emergency: "Urgence",
        normalDescription: "Traitement sous quelques jours ouvrables",
        highDescription: "Doit √™tre fait avant demain",
        emergencyDescription: "Doit √™tre fait d√®s que possible",
        
        // Form Placeholders
        companyNamePlaceholder: "Ajoutez le nom de votre entreprise",
        emailPlaceholder: "Ajoutez votre adresse e-mail",
        phonePlaceholder: "Ajoutez votre num√©ro de t√©l√©phone",
        notesPlaceholder: "Pr√©cisez quand l'enregistrement doit √™tre jou√© (date et heure) et toute autre information pertinente. Et si applicable, ajoutez le num√©ro de t√©l√©phone externe pour lequel l'enregistrement audio est destin√©, ex. +33 1 23 45 67 89.",
        
        // File Upload
        uploadAudioFile: "T√©l√©charger un fichier audio",
        supportedFormats: "Formats support√©s : MP3, WAV, MP4, WebM, OGG, AAC, M4A",
        chooseFile: "Choisir un fichier",
        
        // Text Input
        enterText: "Saisir du texte",
        
        // Buttons
        submit: "Envoyer",
        delete: "Supprimer",
        deleteRecording: "Supprimer l'enregistrement",
        
        // Messages
        businessHoursNote: "Veuillez noter que ces demandes ne seront trait√©es que pendant les heures de bureau.",
        forAssistanceContact: "Pour obtenir de l'aide, contactez",
        dragDropHint: "üí° Conseil : Vous pouvez glisser-d√©poser des fichiers audio n'importe o√π sur ce formulaire",
        dropAudioFilesHere: "D√©posez les fichiers audio ici",
        developedBy: "D√©velopp√© par",
        
        // Notifications
        recordingNotSupported: "Votre navigateur ne prend pas en charge l'enregistrement audio. Veuillez utiliser un navigateur moderne ou essayer l'option de t√©l√©chargement.",
        httpsRequired: "L'enregistrement audio n√©cessite une connexion s√©curis√©e (HTTPS) ou localhost.",
        allowMicrophone: "Veuillez autoriser l'acc√®s au microphone dans les param√®tres de votre navigateur. Cliquez sur l'ic√¥ne cam√©ra/microphone dans la barre d'adresse pour accorder l'autorisation.",
        noMicrophone: "Aucun microphone trouv√©. Veuillez vous assurer que votre appareil dispose d'un microphone.",
        microphoneBusy: "Votre microphone est occup√© ou ne fonctionne pas. Veuillez r√©essayer ou utiliser l'option de t√©l√©chargement.",
        recordingError: "Erreur lors du traitement de l'enregistrement. Veuillez r√©essayer.",
        microphoneError: "Erreur d'acc√®s au microphone. Veuillez essayer l'option de t√©l√©chargement.",
        invalidEmail: "Veuillez saisir une adresse e-mail valide.",
        invalidPhone: "Veuillez saisir un num√©ro de t√©l√©phone valide (seuls les chiffres et le symbole + sont autoris√©s).",
        recordingRequired: "Veuillez enregistrer un message avant d'envoyer.",
        fileRequired: "Veuillez s√©lectionner un fichier audio √† t√©l√©charger.",
        textRequired: "Veuillez saisir du texte avant d'envoyer.",
        sending: "Envoi en cours...",
        errorSending: "Une erreur s'est produite lors de l'envoi de votre demande. Veuillez r√©essayer.",
        submissionSuccess: "Votre demande a √©t√© re√ßue avec succ√®s.",
        filesUploaded: "Fichiers t√©l√©charg√©s",
        dropAudioFilesOnly: "Veuillez d√©poser uniquement des fichiers audio (MP3, WAV, MP4, WebM, OGG, AAC, M4A)",
        preparingRecording: "Pr√©paration de l'enregistrement... Veuillez patienter.",
        maxDurationWarning: "Dur√©e maximale d'enregistrement : {duration} secondes.",
        maxDurationReached: "Dur√©e maximale d'enregistrement atteinte. Enregistrement arr√™t√©."
    },
    de: {
        // Recording Method
        recordingMethod: "Aufnahmemethode",
        recordAudio: "Audio aufnehmen",
        uploadAudio: "Audio hochladen",
        textInput: "Texteingabe",
        
        // Recording Controls
        startRecording: "Aufnahme starten",
        stopRecording: "Aufnahme stoppen",
        recordingDuration: "Aufnahmedauer",
        
        // Form Labels
        companyName: "Firmenname",
        contactEmail: "Kontakt-E-Mail",
        contactPhone: "Kontakt-Telefon",
        notes: "Notizen",
        severityLevel: "Priorit√§tsstufe",
        requiredFields: "Pflichtfelder",
        
        // Severity Levels
        normal: "Normal",
        high: "Hoch",
        emergency: "Notfall",
        normalDescription: "Bearbeitung innerhalb weniger Werktage",
        highDescription: "Muss vor morgen erledigt werden",
        emergencyDescription: "Muss sofort erledigt werden",
        
        // Form Placeholders
        companyNamePlaceholder: "F√ºgen Sie Ihren Firmennamen hinzu",
        emailPlaceholder: "F√ºgen Sie Ihre E-Mail-Adresse hinzu",
        phonePlaceholder: "F√ºgen Sie Ihre Telefonnummer hinzu",
        notesPlaceholder: "Geben Sie an, wann die Aufnahme abgespielt werden soll (Datum und Uhrzeit) und alle anderen relevanten Informationen. Und falls zutreffend, f√ºgen Sie die externe Telefonnummer hinzu, f√ºr die die Audioaufnahme bestimmt ist, z.B. +49 30 12345678.",
        
        // File Upload
        uploadAudioFile: "Audiodatei hochladen",
        supportedFormats: "Unterst√ºtzte Formate: MP3, WAV, MP4, WebM, OGG, AAC, M4A",
        chooseFile: "Datei ausw√§hlen",
        
        // Text Input
        enterText: "Text eingeben",
        
        // Buttons
        submit: "Absenden",
        delete: "L√∂schen",
        deleteRecording: "Aufnahme l√∂schen",
        
        // Messages
        businessHoursNote: "Bitte beachten Sie, dass diese Anfragen nur w√§hrend der Gesch√§ftszeiten bearbeitet werden.",
        forAssistanceContact: "F√ºr Hilfe kontaktieren Sie",
        dragDropHint: "üí° Tipp: Sie k√∂nnen Audiodateien √ºberall auf diesem Formular per Drag & Drop ablegen",
        dropAudioFilesHere: "Audiodateien hier ablegen",
        developedBy: "Entwickelt von",
        
        // Notifications
        recordingNotSupported: "Ihr Browser unterst√ºtzt keine Audioaufnahme. Bitte verwenden Sie einen modernen Browser oder versuchen Sie die Upload-Option.",
        httpsRequired: "Audioaufnahme erfordert eine sichere Verbindung (HTTPS) oder localhost.",
        allowMicrophone: "Bitte erlauben Sie Mikrofonzugriff in Ihren Browser-Einstellungen. Klicken Sie auf das Kamera/Mikrofon-Symbol in der Adressleiste, um die Erlaubnis zu erteilen.",
        noMicrophone: "Kein Mikrofon gefunden. Bitte stellen Sie sicher, dass Ihr Ger√§t ein Mikrofon hat.",
        microphoneBusy: "Ihr Mikrofon ist besch√§ftigt oder funktioniert nicht. Bitte versuchen Sie es erneut oder verwenden Sie die Upload-Option.",
        recordingError: "Fehler bei der Verarbeitung der Aufnahme. Bitte versuchen Sie es erneut.",
        microphoneError: "Fehler beim Zugriff auf das Mikrofon. Bitte versuchen Sie die Upload-Option.",
        invalidEmail: "Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.",
        invalidPhone: "Bitte geben Sie eine g√ºltige Telefonnummer ein (nur Zahlen und + Symbol erlaubt).",
        recordingRequired: "Bitte nehmen Sie eine Nachricht auf, bevor Sie absenden.",
        fileRequired: "Bitte w√§hlen Sie eine Audiodatei zum Hochladen aus.",
        textRequired: "Bitte geben Sie Text ein, bevor Sie absenden.",
        sending: "Wird gesendet...",
        errorSending: "Beim Senden Ihrer Anfrage ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.",
        submissionSuccess: "Ihre Anfrage wurde erfolgreich empfangen.",
        filesUploaded: "Dateien hochgeladen",
        dropAudioFilesOnly: "Bitte legen Sie nur Audiodateien ab (MP3, WAV, MP4, WebM, OGG, AAC, M4A)",
        preparingRecording: "Aufnahme wird vorbereitet... Bitte warten.",
        maxDurationWarning: "Maximale Aufnahmedauer: {duration} Sekunden.",
        maxDurationReached: "Maximale Aufnahmedauer erreicht. Aufnahme gestoppt."
    },
    es: {
        // Recording Method
        recordingMethod: "M√©todo de grabaci√≥n",
        recordAudio: "Grabar audio",
        uploadAudio: "Subir audio",
        textInput: "Entrada de texto",
        
        // Recording Controls
        startRecording: "Iniciar grabaci√≥n",
        stopRecording: "Detener grabaci√≥n",
        recordingDuration: "Duraci√≥n de grabaci√≥n",
        
        // Form Labels
        companyName: "Nombre de la empresa",
        contactEmail: "Email de contacto",
        contactPhone: "Tel√©fono de contacto",
        notes: "Notas",
        severityLevel: "Nivel de prioridad",
        requiredFields: "Campos obligatorios",
        
        // Severity Levels
        normal: "Normal",
        high: "Alto",
        emergency: "Emergencia",
        normalDescription: "Procesar en pocos d√≠as laborables",
        highDescription: "Debe hacerse antes de ma√±ana",
        emergencyDescription: "Debe hacerse lo antes posible",
        
        // Form Placeholders
        companyNamePlaceholder: "Agregue el nombre de su empresa",
        emailPlaceholder: "Agregue su direcci√≥n de email",
        phonePlaceholder: "Agregue su n√∫mero de tel√©fono",
        notesPlaceholder: "Especifique cu√°ndo debe reproducirse la grabaci√≥n (fecha y hora) y cualquier otra informaci√≥n relevante. Y si es aplicable, agregue el n√∫mero de tel√©fono externo para el cual est√° destinada la grabaci√≥n de audio, ej. +34 91 123 45 67.",
        
        // File Upload
        uploadAudioFile: "Subir archivo de audio",
        supportedFormats: "Formatos soportados: MP3, WAV, MP4, WebM, OGG, AAC, M4A",
        chooseFile: "Elegir archivo",
        
        // Text Input
        enterText: "Ingresar texto",
        
        // Buttons
        submit: "Enviar",
        delete: "Eliminar",
        deleteRecording: "Eliminar grabaci√≥n",
        
        // Messages
        businessHoursNote: "Tenga en cuenta que estas solicitudes solo se procesar√°n durante el horario comercial.",
        forAssistanceContact: "Para obtener ayuda, contacte a",
        dragDropHint: "üí° Consejo: Puede arrastrar y soltar archivos de audio en cualquier lugar de este formulario",
        dropAudioFilesHere: "Suelte archivos de audio aqu√≠",
        developedBy: "Desarrollado por",
        
        // Notifications
        recordingNotSupported: "Su navegador no admite grabaci√≥n de audio. Por favor use un navegador moderno o intente la opci√≥n de subida.",
        httpsRequired: "La grabaci√≥n de audio requiere una conexi√≥n segura (HTTPS) o localhost.",
        allowMicrophone: "Por favor permita el acceso al micr√≥fono en la configuraci√≥n de su navegador. Haga clic en el √≠cono de c√°mara/micr√≥fono en la barra de direcciones para otorgar permiso.",
        noMicrophone: "No se encontr√≥ micr√≥fono. Por favor aseg√∫rese de que su dispositivo tenga un micr√≥fono.",
        microphoneBusy: "Su micr√≥fono est√° ocupado o no funciona. Por favor int√©ntelo de nuevo o use la opci√≥n de subida.",
        recordingError: "Error al procesar la grabaci√≥n. Por favor int√©ntelo de nuevo.",
        microphoneError: "Error al acceder al micr√≥fono. Por favor intente la opci√≥n de subida.",
        invalidEmail: "Por favor ingrese una direcci√≥n de email v√°lida.",
        invalidPhone: "Por favor ingrese un n√∫mero de tel√©fono v√°lido (solo n√∫meros y s√≠mbolo + permitidos).",
        recordingRequired: "Por favor grabe un mensaje antes de enviar.",
        fileRequired: "Por favor seleccione un archivo de audio para subir.",
        textRequired: "Por favor ingrese texto antes de enviar.",
        sending: "Enviando...",
        errorSending: "Ocurri√≥ un error al enviar su solicitud. Por favor int√©ntelo de nuevo.",
        submissionSuccess: "Su solicitud ha sido recibida exitosamente.",
        filesUploaded: "Archivos subidos",
        dropAudioFilesOnly: "Por favor suelte solo archivos de audio (MP3, WAV, MP4, WebM, OGG, AAC, M4A)",
        preparingRecording: "Preparando grabaci√≥n... Por favor espere.",
        maxDurationWarning: "Duraci√≥n m√°xima de grabaci√≥n: {duration} segundos.",
        maxDurationReached: "Duraci√≥n m√°xima de grabaci√≥n alcanzada. Grabaci√≥n detenida."
    }
};

// Function to get translation
function t(key, lang = 'en') {
    return translations[lang][key] || translations['en'][key] || key;
}

// Function to set language
function setLanguage(lang) {
    document.documentElement.lang = lang;
    updateTranslations(lang);
}

// Function to update all translations on the page
function updateTranslations(lang) {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = t(key, lang);
    });
    
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = t(key, lang);
    });
    
    // Update drag overlay text if currently active
    const cardBody = document.querySelector('.card-body');
    if (cardBody && cardBody.classList.contains('drag-over')) {
        cardBody.setAttribute('data-drop-text', t('dropAudioFilesHere', lang));
    }
}

// Add language selector to the page
function addLanguageSelector() {
    const selector = document.createElement('div');
    selector.className = 'language-selector mb-3';
    selector.innerHTML = `
        <select class="form-select" id="languageSelect">
            <option value="en">English</option>
            <option value="nl">Nederlands</option>
            <option value="fr">Fran√ßais</option>
            <option value="de">Deutsch</option>
            <option value="es">Espa√±ol</option>
        </select>
    `;
    
    document.querySelector('.card-body').insertBefore(selector, document.querySelector('.card-body').firstChild);
    
    // Add event listener
    document.getElementById('languageSelect').addEventListener('change', (e) => {
        setLanguage(e.target.value);
    });
}

// Initialize language switcher
document.addEventListener('DOMContentLoaded', function() {
    const languageButtons = document.querySelectorAll('.language-switcher button');
    
    languageButtons.forEach(button => {
        button.addEventListener('click', function() {
            const lang = this.dataset.lang;
            setLanguage(lang);
            
            // Update active state
            languageButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // Set default language
    setLanguage('en');
}); 